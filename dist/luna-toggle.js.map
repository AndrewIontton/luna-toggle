{"version":3,"sources":["node_modules/custom-event-polyfill/polyfill.js","luna-toggle.js"],"names":["Toggle","element","type","contentType","buttonType","modal","state","selector","getAttribute","class","buttons","document","querySelectorAll","closeButtons","init","setAttribute","forEach","button","addEventListener","toggle","closeButton","close","classList","remove","body","triggerEvent","eventName","customEvent","CustomEvent","bubbles","detail","toggleClass","dispatchEvent"],"mappings":"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","file":"luna-toggle.js","sourceRoot":"..","sourcesContent":["// Polyfill for creating CustomEvents on IE9/10/11\n\n// code pulled from:\n// https://github.com/d4tocchini/customevent-polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n\n(function() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  try {\n    var ce = new window.CustomEvent('test', { cancelable: true });\n    ce.preventDefault();\n    if (ce.defaultPrevented !== true) {\n      // IE has problems with .preventDefault() on custom events\n      // http://stackoverflow.com/questions/23349191\n      throw new Error('Could not prevent default');\n    }\n  } catch (e) {\n    var CustomEvent = function(event, params) {\n      var evt, origPrevent;\n      params = params || {};\n      params.bubbles = !!params.bubbles;\n      params.cancelable = !!params.cancelable;\n\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(\n        event,\n        params.bubbles,\n        params.cancelable,\n        params.detail\n      );\n      origPrevent = evt.preventDefault;\n      evt.preventDefault = function() {\n        origPrevent.call(this);\n        try {\n          Object.defineProperty(this, 'defaultPrevented', {\n            get: function() {\n              return true;\n            }\n          });\n        } catch (e) {\n          this.defaultPrevented = true;\n        }\n      };\n      return evt;\n    };\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent; // expose definition to window\n  }\n})();\n","import 'custom-event-polyfill';\n\nexport default class Toggle {\n  constructor(element, type = 'modal') {\n    this.type = type;\n    this.contentType = 'aria-hidden';\n    this.buttonType = this.type === 'tab' ? this.buttonType = 'aria-selected' : this.buttonType = 'aria-expanded';\n    this.modal = element;\n    this.state = false;\n    this.selector = this.modal.getAttribute('data-toggle-target');\n    this.class = `is-active-${this.selector}`;\n    this.buttons = document.querySelectorAll(`[data-toggle=\"${this.selector}\"]`);\n    this.closeButtons = document.querySelectorAll(`[data-toggle-close=\"${this.selector}\"]`);\n    this.init();\n  }\n  init() {\n    this.modal.setAttribute(this.contentType, !this.state);\n    this.buttons.forEach(button => {\n      button.setAttribute(this.buttonType, this.state);\n      button.addEventListener('click', () => this.toggle());\n    });\n    this.closeButtons.forEach(closeButton => {\n      closeButton.addEventListener('click', () => this.close());\n    });\n  }\n  close() {\n    this.state = false;\n    this.buttons.forEach(button => {\n      button.classList.remove('is-active');\n      button.setAttribute(this.buttonType, false);\n    });\n    document.body.classList.remove(this.class);\n    this.modal.classList.remove('is-active');\n    this.modal.setAttribute(this.contentType, true);\n    this.triggerEvent('close');\n  }\n  toggle() {\n    this.state = !this.state;\n    this.buttons.forEach(button => {\n      button.classList[this.state ? 'add' : 'remove']('is-active');\n      button.setAttribute(this.buttonType, this.state);\n    });\n    document.body.classList[this.state ? 'add' : 'remove'](this.class);\n    this.modal.classList[this.state ? 'add' : 'remove']('is-active');\n    this.modal.setAttribute(this.contentType, !this.state);\n    this.triggerEvent(this.state ? 'open' : 'close');\n  }\n  triggerEvent(eventName) {\n    const customEvent = new CustomEvent(eventName, {\n      bubbles: true,\n      detail: {\n        toggleClass: this,\n      },\n    });\n    this.modal.dispatchEvent(customEvent);\n  }\n}\n"]}