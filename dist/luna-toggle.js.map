{"version":3,"sources":["node_modules/custom-event-polyfill/polyfill.js","luna-toggle.js"],"names":["LunaToggle","element","toggleElement","state","selector","getAttribute","bodyClass","toggleButtons","document","querySelectorAll","closeButtons","init","setAttribute","forEach","button","addEventListener","toggle","closeButton","close","classList","remove","body","triggerEvent","eventName","customEvent","CustomEvent","bubbles","detail","toggleClass","dispatchEvent"],"mappings":"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","file":"luna-toggle.js","sourceRoot":"..","sourcesContent":["// Polyfill for creating CustomEvents on IE9/10/11\n\n// code pulled from:\n// https://github.com/d4tocchini/customevent-polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n\n(function() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  try {\n    var ce = new window.CustomEvent('test', { cancelable: true });\n    ce.preventDefault();\n    if (ce.defaultPrevented !== true) {\n      // IE has problems with .preventDefault() on custom events\n      // http://stackoverflow.com/questions/23349191\n      throw new Error('Could not prevent default');\n    }\n  } catch (e) {\n    var CustomEvent = function(event, params) {\n      var evt, origPrevent;\n      params = params || {};\n      params.bubbles = !!params.bubbles;\n      params.cancelable = !!params.cancelable;\n\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(\n        event,\n        params.bubbles,\n        params.cancelable,\n        params.detail\n      );\n      origPrevent = evt.preventDefault;\n      evt.preventDefault = function() {\n        origPrevent.call(this);\n        try {\n          Object.defineProperty(this, 'defaultPrevented', {\n            get: function() {\n              return true;\n            }\n          });\n        } catch (e) {\n          this.defaultPrevented = true;\n        }\n      };\n      return evt;\n    };\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent; // expose definition to window\n  }\n})();\n","import 'custom-event-polyfill';\n\nexport default class LunaToggle {\n  constructor(element) {\n    this.toggleElement = element;\n    this.state = false;\n    this.selector = this.toggleElement.getAttribute('data-luna-toggle-target');\n    this.bodyClass = `is-active-${this.selector}`;\n    this.toggleButtons = document.querySelectorAll(`[data-luna-toggle=\"${this.selector}\"]`);\n    this.closeButtons = document.querySelectorAll(`[data-luna-toggle-close=\"${this.selector}\"]`);\n    this.init();\n  }\n  init() {\n    this.toggleElement.setAttribute('aria-hidden', !this.state);\n    this.toggleButtons.forEach(button => {\n      button.setAttribute('aria-selected', this.state);\n      button.addEventListener('click', () => this.toggle());\n    });\n    this.closeButtons.forEach(closeButton => {\n      closeButton.addEventListener('click', () => this.close());\n    });\n  }\n  close() {\n    this.state = false;\n    this.toggleButtons.forEach(button => {\n      button.classList.remove('is-active');\n      button.setAttribute('aria-selected', false);\n    });\n    document.body.classList.remove(this.bodyClass);\n    this.toggleElement.classList.remove('is-active');\n    this.toggleElement.setAttribute('aria-hidden', true);\n    this.triggerEvent('close');\n  }\n  toggle() {\n    this.state = !this.state;\n\n    this.toggleButtons.forEach(button => {\n      button.classList[this.state ? 'add' : 'remove']('is-active');\n      button.setAttribute('aria-selected', this.state);\n    });\n\n    document.body.classList[this.state ? 'add' : 'remove'](this.bodyClass);\n    this.toggleElement.classList[this.state ? 'add' : 'remove']('is-active');\n    this.toggleElement.setAttribute('aria-hidden', !this.state);\n    this.triggerEvent(this.state ? 'open' : 'close');\n  }\n  triggerEvent(eventName) {\n    const customEvent = new CustomEvent(eventName, {\n      bubbles: true,\n      detail: {\n        toggleClass: this,\n      },\n    });\n    this.toggleElement.dispatchEvent(customEvent);\n  }\n}"]}